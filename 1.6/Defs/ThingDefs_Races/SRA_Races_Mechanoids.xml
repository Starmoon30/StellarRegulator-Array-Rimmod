<?xml version="1.0" encoding="utf-8"?>
<Defs>

  <ThingDef Name="SRA_LightMechanoid" ParentName="BaseMechanoid" Abstract="True">
    <statBases>
      <MarketValue>2</MarketValue>
      <MoveSpeed>8</MoveSpeed>
      <ArmorRating_Blunt>1</ArmorRating_Blunt>
      <ArmorRating_Sharp>1</ArmorRating_Sharp>
      <ArmorRating_Heat>4</ArmorRating_Heat>
      <MechEnergyLossPerHP>0.01</MechEnergyLossPerHP>
    </statBases>
    <race>
      <hasCorpse>false</hasCorpse>
      <body>Mech_Light</body>
      <intelligence>ToolUser</intelligence>
      <thinkTreeMain>Mechanoid</thinkTreeMain>
      <bulletStaggerDelayTicks>1</bulletStaggerDelayTicks>
      <baseBodySize>0.4</baseBodySize>
      <baseHealthScale>4</baseHealthScale>
      <mechWeightClass>Light</mechWeightClass>
      <mechFixedSkillLevel>20</mechFixedSkillLevel>
    </race>
    <butcherProducts>
      <Steel>10</Steel>
    </butcherProducts>
    <tools>
      <li>
        <label>撞击</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>32</power>
        <cooldownTime>0.5</cooldownTime>
        <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
      </li>
    </tools>
  </ThingDef>

  <ThingDef Abstract="True" Name="SRASuperHeavyMechanoid" ParentName="HeavyMechanoid">
    <statBases>
      <MoveSpeed>4</MoveSpeed>
      <MarketValue>32000</MarketValue>
      <ControlTakingTime>4</ControlTakingTime>
      <BandwidthCost>5</BandwidthCost>
      <ArmorRating_Blunt>4</ArmorRating_Blunt>
      <ArmorRating_Sharp>4</ArmorRating_Sharp>
      <ArmorRating_Heat>4</ArmorRating_Heat>
      <ComfyTemperatureMin>-200</ComfyTemperatureMin>
      <ComfyTemperatureMax>2000</ComfyTemperatureMax>
      <StaggerDurationFactor>-1</StaggerDurationFactor>
      <PsychicSensitivity>0</PsychicSensitivity>
      <MechEnergyUsageFactor>0</MechEnergyUsageFactor>
      <MechEnergyLossPerHP>0</MechEnergyLossPerHP>
      <WastepacksPerRecharge>0</WastepacksPerRecharge>
    </statBases>
    <race>
      <hasCorpse>false</hasCorpse>
      <intelligence>ToolUser</intelligence>
      <thinkTreeMain>Mechanoid</thinkTreeMain>
      <baseHealthScale>1</baseHealthScale>
      <mechWeightClass>UltraHeavy</mechWeightClass>
      <mechFixedSkillLevel>20</mechFixedSkillLevel>
    </race>
    <butcherProducts Inherit="False">
      <Steel>50</Steel>
      <Plasteel>20</Plasteel>
    </butcherProducts>
  </ThingDef>

  <PawnKindDef Name="SRA_LightMechanoidKind" Abstract="True">
    <defaultFactionType>Mechanoid</defaultFactionType>
    <aiAvoidCover>false</aiAvoidCover>
    <destroyGearOnDrop>true</destroyGearOnDrop>
    <canStrip>false</canStrip>
    <minGenerationAge>100</minGenerationAge>
    <forceNormalGearQuality>true</forceNormalGearQuality>
    <allowInMechClusters>false</allowInMechClusters><!--机械集群-->

    <combatPower>10</combatPower>
    <techHediffsChance>1</techHediffsChance>
    <techHediffsMoney>9999~9999</techHediffsMoney>
    <weaponMoney>9999~9999</weaponMoney>
  </PawnKindDef>

  <PawnKindDef Name="SRAHeavyMechanoidKind" Abstract="True">
    <defaultFactionType>Mechanoid</defaultFactionType>
    <aiAvoidCover>false</aiAvoidCover>
    <destroyGearOnDrop>true</destroyGearOnDrop>
    <canStrip>false</canStrip>
    <minGenerationAge>100</minGenerationAge>
    <forceNormalGearQuality>true</forceNormalGearQuality>
    <allowInMechClusters>false</allowInMechClusters><!--机械集群-->

    <weaponMoney>40000~40000</weaponMoney>
    <combatPower>400</combatPower>
    <techHediffsChance>1</techHediffsChance>
    <techHediffsMoney>80000~80000</techHediffsMoney>
    <controlGroupPortraitZoom>0.8</controlGroupPortraitZoom>
  </PawnKindDef>

  <!-- WarUrchin -->
  <ThingDef ParentName="SRA_LightMechanoid">
    <defName>SRA_Mech_WarUnit_S</defName>
    <label>星规-「尖蜂」微型战争单元</label>
    <description>一种小型的灵活作战机械，使用高射速的轻型武器。这一单位在正规战场上几乎没有出场空间，但在小规模防御上倒是可堪一用。</description>
    <statBases>
      <MoveSpeed>16</MoveSpeed>
    </statBases>
    <race>
      <lifeStageAges>
        <li>
          <def>MechanoidFullyFormed</def>
        </li>
      </lifeStageAges>
      <thinkTreeConstant>WarUrchinConstant</thinkTreeConstant>
      <baseHealthScale>4</baseHealthScale>
    </race>
    <comps Inherit="False">
      <li Class="CompProperties_CanBeDormant" />
      <li Class="CompProperties_WakeUpDormant">
        <wakeUpOnDamage>true</wakeUpOnDamage>
        <wakeUpCheckRadius>30</wakeUpCheckRadius>
        <wakeUpSound>MechanoidsWakeUp</wakeUpSound>
      </li>
    </comps>
  </ThingDef>
  <PawnKindDef ParentName="SRA_LightMechanoidKind">
    <defName>SRA_Mech_WarUnit_S</defName>
    <label>星规-「尖蜂」微型战争单元</label>
    <labelPlural>一种小型的灵活作战机械，使用高射速的轻型武器。这一单位在正规战场上几乎没有出场空间，但在小规模防御上倒是可堪一用。</labelPlural>
    <race>SRA_Mech_WarUnit_S</race>
    <allowInMechClusters>false</allowInMechClusters>
    <forceNoDeathNotification>true</forceNoDeathNotification>
    <forceDeathOnDowned>true</forceDeathOnDowned>
    <lifeStages>
      <li>
        <bodyGraphicData>
          <texPath>SRA/Pawn/Mechanoid/SRA_Mech_WarUnit_S</texPath>
          <maskPath>SRA/Pawn/Mechanoid/AllegianceOverlays/None</maskPath>
          <shaderType>CutoutWithOverlay</shaderType>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>1.1</drawSize>
          <shadowData>
            <volume>(0.2, 0.3, 0.2)</volume>
          </shadowData>
        </bodyGraphicData>
      </li>
    </lifeStages>
    <weaponTags>
      <li>SRA_Weapon_P</li>
    </weaponTags>
  </PawnKindDef>


  <ThingDef Name="SRA_SR_Mech" ParentName="SRASuperHeavyMechanoid">
    <defName>SRA_SR_Mech</defName>
    <label>星规阵列五类行动单元</label>
    <description>一个星规阵列五类行动单元的类人素体，完全使用星辉分形构建，借助其内置的星辉水晶能量网络端口，这一机械体能够调度近乎无限的能源。</description>
    <race>
      <body>Lancer</body>
      <baseBodySize>1</baseBodySize>
      <mechEnabledWorkTypes>
        <li>Hauling</li>
        <li>BasicWorker</li>
        <!-- <li>Handling</li> -->
        <!-- <li>Hunting</li> -->
        <li MayRequire="Ludeon.RimWorld.Odyssey">Fishing</li>
        <li>Cleaning</li>
        <li>Construction</li>
        <li>Firefighter</li>
        <li>PlantCutting</li>
        <li>Growing</li>
        <li>Crafting</li>
        <li>Smithing</li>
        <li>Tailoring</li>
        <li>Cooking</li>
        <li>Mining</li>
        <li>Doctor</li>
      </mechEnabledWorkTypes>
      <lifeStageAges>
        <li>
          <def>MechanoidFullyFormed</def>
          <minAge>0</minAge>
        </li>
      </lifeStageAges>
      <baseHealthScale>8</baseHealthScale>
    </race>
    <statBases>
      <BandwidthCost>1</BandwidthCost>
      <EMPResistance>4</EMPResistance>
      <MoveSpeed>4</MoveSpeed>
      <WorkSpeedGlobal>4</WorkSpeedGlobal>
      <CarryingCapacity>800</CarryingCapacity>
      <AimingDelayFactor>0.5</AimingDelayFactor>
      <ShootingAccuracyPawn>20</ShootingAccuracyPawn>
      <MeleeCooldownFactor>0.5</MeleeCooldownFactor>
      <RangedCooldownFactor>0.5</RangedCooldownFactor>
      <FoodPoisonChance>0</FoodPoisonChance>
      <IncomingDamageFactor>0.1</IncomingDamageFactor>
      <EnergyShieldRechargeRate>4</EnergyShieldRechargeRate>
      <EnergyShieldEnergyMax>64</EnergyShieldEnergyMax>
    </statBases>
    <tools>
      <li>
        <label>touch</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>160</power>
        <cooldownTime>0.5</cooldownTime>
        <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
      </li>
    </tools>
    <comps>
      <li Class="SRA.CompProperties_GlobalMechCommand" />
      <li Class="CompProperties_Shield">
        <startingTicksToReset>1800</startingTicksToReset>
        <minDrawSize>1.8</minDrawSize>
        <maxDrawSize>2.2</maxDrawSize>
        <energyLossPerDamage>0.05</energyLossPerDamage>
        <energyOnReset>6400</energyOnReset>
        <blocksRangedWeapons>false</blocksRangedWeapons>
      </li>
      <li Class="AutoBlink.CompProperties_AutoBlink" MayRequire="rabiosus.autoblink">
        <!-- <gizmoIconPath></gizmoIconPath> -->
        <blinkIntervalTicks>12</blinkIntervalTicks>
        <delayAfterEligibleTicks>4</delayAfterEligibleTicks>
        <cellsBeforeTarget>1</cellsBeforeTarget>
        <maxDistanceToBlink>400</maxDistanceToBlink>
        <minDistanceToBlink>10</minDistanceToBlink>
        <postBlinkStanceTicks>0</postBlinkStanceTicks>
        <excludedJobDefs>
          <li>GotoWander</li>
          <li>Carried</li>
        </excludedJobDefs>

        <preBlinkSoundDefs>
          <li>AutoBlink_Skip_Small</li>
        </preBlinkSoundDefs>
        <postBlinkSoundDefs>
          <li>AutoBlink_Skip_Exit_Small</li>
        </postBlinkSoundDefs>

        <preBlinkEffecterDefs>
          <li>Skip_Entry</li>
        </preBlinkEffecterDefs>

        <postBlinkEffecterDefs>
          <li>Skip_ExitNoDelay</li>
        </postBlinkEffecterDefs>

        <preBlinkMoteDefs />
        <postBlinkMoteDefs />

      </li>
    </comps>
  </ThingDef>

  <PawnKindDef Name="SRA_SR_MechKind" ParentName="SRAHeavyMechanoidKind">
    <defName>SRA_SR_Mech</defName>
    <label>星规</label>
    <race>SRA_SR_Mech</race>
    <combatPower>500</combatPower>
    <maxPerGroup>0</maxPerGroup>
    <isBoss>true</isBoss>
    <allowInMechClusters>false</allowInMechClusters>
    <startingHediffs>
      <li>
        <def>SRA_Barrier_SR_Mech</def>
      </li>
    </startingHediffs>
    <lifeStages>
      <li>
        <bodyGraphicData>
          <texPath>SRA/Pawn/Mechanoid/SRA_SR_Mech</texPath>
          <maskPath>SRA/Pawn/Mechanoid/AllegianceOverlays/None</maskPath>
          <shaderType>CutoutWithOverlay</shaderType>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>1.5</drawSize>
        </bodyGraphicData>
      </li>
    </lifeStages>
    <weaponTags>
      <li>SRA_Spear_of_SRA</li>
    </weaponTags>
    <abilities>
      <li>SRA_PsychicSlaughter</li>
      <li>SRA_EntitySkip</li>
      <li>SRA_ReleaseDeadlifeDust</li>
      <li>SRA_ControlPulse</li>
      <li>SRA_AnnihilateStorm</li>
    </abilities>
  </PawnKindDef>

  <ThingDef ParentName="SRASuperHeavyMechanoid">
    <defName>SRA_Mech_WarUnit_M_D</defName>
    <label>星规-「哨卫」战地压制单元</label>
    <description>一种坚固的中型作战机械，使用能一次攻击多个目标的相位能量弧作为武器。这一单位在正规战场上几乎没有出场空间，但在小规模防御上倒是可堪一用。\n\n这是一种中型通用平台武装改造下的产物，装备了护盾场发生器和相位能量弧防卫系统。设计上用于提供阵线防御与群体压制，其武器系统擅长限制大量敌人与摧毁弱小目标。</description>
    <statBases>
      <MoveSpeed>8</MoveSpeed>
      <IncomingDamageFactor>0.5</IncomingDamageFactor>
    </statBases>
    <race>
      <body>Lancer</body>
      <baseBodySize>4</baseBodySize>
      <lifeStageAges>
        <li>
          <def>MechanoidFullyFormed</def>
        </li>
      </lifeStageAges>
      <thinkTreeConstant>WarUrchinConstant</thinkTreeConstant>
      <baseHealthScale>8</baseHealthScale>
    </race>
    <comps Inherit="False">
      <li Class="CompProperties_ProjectileInterceptor">
        <radius>6</radius>
        <interceptGroundProjectiles>true</interceptGroundProjectiles>
        <color>(0.4, 0.4, 0.4)</color>
        <reactivateEffect>BulletShieldGenerator_Reactivate</reactivateEffect>
        <activeSound>BulletShield_Ambience</activeSound>
        <hitPoints>3200</hitPoints>
        <hitPointsRestoreInstantlyAfterCharge>true</hitPointsRestoreInstantlyAfterCharge>
        <chargeDurationTicks>1800</chargeDurationTicks><!-- 30s -->
        <rechargeHitPointsIntervalTicks>90</rechargeHitPointsIntervalTicks>
        <minIdleAlpha>0.2</minIdleAlpha>
        <drawWithNoSelection>True</drawWithNoSelection>
        <disarmedByEmpForTicks>900</disarmedByEmpForTicks>
        <gizmoTipKey>ProjectileInterceptorTip</gizmoTipKey>
      </li>
      <li Class="CompProperties_TurretGun">
        <turretDef>SRATurretGun_Mech_WarUnit_M_D</turretDef>
        <angleOffset>-90</angleOffset>
        <renderNodeProperties>
          <li>
            <nodeClass>PawnRenderNode_TurretGun</nodeClass>
            <workerClass>PawnRenderNodeWorker_TurretGun</workerClass>
            <parentTagDef>Body</parentTagDef>
            <overrideMeshSize>(1, 1)</overrideMeshSize>
            <baseLayer>20</baseLayer>
            <pawnType>Any</pawnType>
            <drawData>
              <dataWest>
                <rotationOffset>180</rotationOffset>
              </dataWest>
            </drawData>
          </li>
        </renderNodeProperties>
      </li>
      <li Class="CompProperties_CanBeDormant" />
      <li Class="CompProperties_WakeUpDormant">
        <wakeUpOnDamage>true</wakeUpOnDamage>
        <wakeUpCheckRadius>30</wakeUpCheckRadius>
        <wakeUpSound>MechanoidsWakeUp</wakeUpSound>
      </li>
    </comps>
    <tools>
      <li>
        <label>撞击</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>32</power>
        <cooldownTime>0.5</cooldownTime>
        <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
      </li>
    </tools>
  </ThingDef>

  <PawnKindDef ParentName="SRAHeavyMechanoidKind">
    <defName>SRA_Mech_WarUnit_M_D</defName>
    <label>星规-「哨卫」战地压制单元</label>
    <race>SRA_Mech_WarUnit_M_D</race>
    <combatPower>500</combatPower>
    <maxPerGroup>0</maxPerGroup>
    <allowInMechClusters>false</allowInMechClusters>
    <forceNoDeathNotification>true</forceNoDeathNotification>
    <forceDeathOnDowned>true</forceDeathOnDowned>
    <startingHediffs>
      <li>
        <def>SRA_Barrier_Mech_WarUnit_M_D</def>
      </li>
    </startingHediffs>
    <lifeStages>
      <li>
        <bodyGraphicData>
          <texPath>SRA/Pawn/Mechanoid/SRA_Mech_WarUnit_M_D</texPath>
          <maskPath>SRA/Pawn/Mechanoid/AllegianceOverlays/None</maskPath>
          <shaderType>CutoutWithOverlay</shaderType>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>3.5</drawSize>
        </bodyGraphicData>
      </li>
    </lifeStages>
    <weaponTags>
      <li>SRA_Arc_Beam_Weapon</li>
    </weaponTags>
  </PawnKindDef>

	<ThingDef ParentName="SRA_WeaponBase">
		<defName>SRA_Arc_Beam_Weapon</defName>
		<label>星规-相位奔流</label>
		<description>一种相位能量弧发生器，它投射一种独特的相位能量束，可以在多个敌人之间弹射，造成伤害和破坏性效应。\n此武器投射的能量弧可以在至多8个目标之间弹射，每次造成16点伤害。</description>
		<descriptionHyperlinks>
			<HediffDef>SRA_Railgun_debuff</HediffDef>
		</descriptionHyperlinks>
		<graphicData>
			<texPath>SRA/Weapon/SRA_Weapon_Empty</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>1</drawSize>
		</graphicData>
		<uiIconScale>1.0</uiIconScale>
		<equippedAngleOffset>0</equippedAngleOffset>
    	<smeltable>false</smeltable>
		<statBases>
			<MarketValue>1600</MarketValue>
			<MaxHitPoints>640</MaxHitPoints>
			<Mass>1</Mass>
			<AccuracyTouch>1</AccuracyTouch>
			<AccuracyShort>1</AccuracyShort>
			<AccuracyMedium>1</AccuracyMedium>
			<AccuracyLong>1</AccuracyLong>
			<RangedWeapon_Cooldown>2</RangedWeapon_Cooldown>
			<Flammability>0</Flammability>
		</statBases>
		<tradeability>None</tradeability>
		<relicChance>0</relicChance>
		<weaponTags>
			<li>SRA_Arc_Beam_Weapon</li>
		</weaponTags>
		<verbs>
			<li Class="SRA.VerbProperties_Arc">
				<verbClass>SRA.Verb_ShootArc</verbClass>
				<hasStandardCommand>true</hasStandardCommand>
				<damageDef>SRA_Spear_of_SRA_burn</damageDef>
				<damageAmount>16</damageAmount>
				<EMPDamageAmount>0</EMPDamageAmount>
				<warmupTime>2</warmupTime>
				<range>16</range>
				<affectedAngle>25</affectedAngle>
				<armorPenetration>4</armorPenetration>
				<soundCast>AgonyPulse_Cast</soundCast>
				<soundCastTail>GunTail_Medium</soundCastTail>
				<muzzleFlashScale>9</muzzleFlashScale>
				<isConductible>True</isConductible>
				<conductFriendly>False</conductFriendly>
				<conductNum>8</conductNum>
				<beamMoteDef>SRA_Bullet_Arc_Beam</beamMoteDef>
				<aimingChargeMote>Mote_HellsphereCannon_Charge</aimingChargeMote>
			</li>
		</verbs>
		<tools>
			<li>
				<label>相位冲击</label>
				<capacities>
					<li>Blunt</li>
				</capacities>
				<power>64</power>
				<cooldownTime>2</cooldownTime>
			</li>
		</tools>
	</ThingDef>

	<ThingDef ParentName="MoteBase">
		<defName>SRA_Bullet_Arc_Beam</defName>
		<thingClass>MoteDualAttached</thingClass>
		<altitudeLayer>MoteOverhead</altitudeLayer>
		<mote>
			<fadeInTime>0</fadeInTime>
			<fadeOutTime>0.2</fadeOutTime>
			<solidTime>0.2</solidTime>
			<needsMaintenance>False</needsMaintenance>
			<rotateTowardsTarget>True</rotateTowardsTarget>
			<scaleToConnectTargets>True</scaleToConnectTargets>
			<fadeOutUnmaintained>False</fadeOutUnmaintained>
		</mote>
		<drawOffscreen>true</drawOffscreen>
		<graphicData>
			<texPath>SRA/Mote/SRA_Bullet_Arc_Beam</texPath>
			<color>(40, 200, 200, 255)</color>
			<graphicClass>Graphic_MoteWithAgeSecs</graphicClass>
			<shaderType>MoteBeam</shaderType>
			<drawSize>(3,1)</drawSize>
			<shaderParameters>
				<_ExtraTexA>/Things/Mote/BeamSecondaryNoise_A</_ExtraTexA>
				<_ExtraTexB>/Things/Mote/BeamSecondaryNoise_B</_ExtraTexB>
				<_ScrollSpeedA>-8 </_ScrollSpeedA>
				<_ScrollSpeedB>6</_ScrollSpeedB>
				<_Intensity>20</_Intensity>
			</shaderParameters>
		</graphicData>
	</ThingDef>

  <ThingDef ParentName="BaseWeaponTurret">
    <defName>SRATurretGun_Mech_WarUnit_M_D</defName>
    <label>星规-「哨卫」压制脉冲炮塔</label>
    <description>一种近距离脉冲束发射器，它发射一道相位能量束，在命中时产生大范围的爆炸并产生破坏性相位能量，这一爆炸不会伤害友方目标。</description>
    <descriptionHyperlinks>
      <HediffDef>SRA_Railgun_debuff</HediffDef>
    </descriptionHyperlinks>
    <graphicData>
      <texPath>SRA/Weapon/SRA_Weapon_Empty</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <statBases>
      <AccuracyLong>1</AccuracyLong>
      <DeteriorationRate>0</DeteriorationRate>
      <Mass>48</Mass>
      <Flammability>0</Flammability>
    </statBases>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <defaultProjectile>SRABulle_Mech_WarUnit_M_D</defaultProjectile>
        <hasStandardCommand>true</hasStandardCommand>
        <range>8</range>
        <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
        <burstShotCount>1</burstShotCount>
        <defaultCooldownTime>4</defaultCooldownTime>
        <soundCast>AgonyPulse_Cast</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>5</muzzleFlashScale>
      </li>
    </verbs>
  </ThingDef>
  <ThingDef ParentName="BaseBullet">
    <defName>SRABulle_Mech_WarUnit_M_D</defName>
    <label>星规-「哨卫」压制脉冲束</label>
    <graphicData>
      <texPath>Things/Projectile/ChargeLanceShot</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <shaderType>TransparentPostLight</shaderType>
      <drawSize>2.4</drawSize>
    </graphicData>
    <thingClass>SRA.Projectile_SRA_Railgun</thingClass>
    <modExtensions>
      <li Class="SRA.SRA_RailgunProjectileExtension">
        <!-- 穿透设置 -->
        <maxPenetrations>1</maxPenetrations>
        <penetrationDelayTicks>1</penetrationDelayTicks>
        <!-- 爆炸设置 -->
        <explosionRadius>3</explosionRadius>
        <explosionDamage>0</explosionDamage><!-- 小于等于0则使用子弹的伤害数值 -->
        <explosionArmorPenetration>0</explosionArmorPenetration><!-- 小于等于0则使用子弹的穿透数值 -->
        <damageDef>Bullet</damageDef>
        <explosionSound>AgonyPulse_Cast</explosionSound>
        <explosionHediff>SRA_Railgun_debuff</explosionHediff>
        <explosionHediffSeverity>0.05</explosionHediffSeverity>
      </li>
    </modExtensions>
    <projectile>
      <damageDef>Bullet</damageDef>
      <damageAmountBase>16</damageAmountBase>
      <armorPenetrationBase>4</armorPenetrationBase>
      <stoppingPower>8</stoppingPower>
      <speed>240</speed>
      <extraDamages>
        <li>
          <def>EMP</def>
          <amount>8</amount>
        </li>
      </extraDamages>
    </projectile>
  </ThingDef>

  <ThingDef ParentName="SRASuperHeavyMechanoid">
    <defName>SRA_Mech_WarUnit_M_A</defName>
    <label>星规-「屠猎」火力歼灭单元</label>
    <description>一种凶猛的中型作战机械，使用能对单个目标造成大量伤害的相位能量束作为武器。这一单位在正规战场上几乎没有出场空间，但在小规模防御上倒是可堪一用。\n\n这是一种中型通用平台武装改造下的产物，装备了护盾场发生器和相位能量弧防卫系统。设计上用于提供阵线防御与群体压制，其武器系统擅长限制大量敌人与摧毁弱小目标。</description>
    <statBases>
      <MoveSpeed>8</MoveSpeed>
				<AimingDelayFactor>0.5</AimingDelayFactor>
        <MeleeCooldownFactor>0.5</MeleeCooldownFactor>
				<RangedCooldownFactor>0.5</RangedCooldownFactor>
        <ShootingAccuracyPawn>32</ShootingAccuracyPawn>
    </statBases>
    <race>
      <body>Lancer</body>
      <baseBodySize>4</baseBodySize>
      <lifeStageAges>
        <li>
          <def>MechanoidFullyFormed</def>
        </li>
      </lifeStageAges>
      <thinkTreeConstant>WarUrchinConstant</thinkTreeConstant>
      <baseHealthScale>8</baseHealthScale>
    </race>
    <comps Inherit="False">
      <li Class="CompProperties_TurretGun">
        <turretDef>SRATurretGun_Mech_WarUnit_M_A</turretDef>
        <angleOffset>-90</angleOffset>
        <renderNodeProperties>
          <li>
            <nodeClass>PawnRenderNode_TurretGun</nodeClass>
            <workerClass>PawnRenderNodeWorker_TurretGun</workerClass>
            <parentTagDef>Body</parentTagDef>
            <overrideMeshSize>(1, 1)</overrideMeshSize>
            <baseLayer>20</baseLayer>
            <pawnType>Any</pawnType>
            <drawData>
              <dataWest>
                <rotationOffset>180</rotationOffset>
              </dataWest>
            </drawData>
          </li>
        </renderNodeProperties>
      </li>
      <li Class="CompProperties_CanBeDormant" />
      <li Class="CompProperties_WakeUpDormant">
        <wakeUpOnDamage>true</wakeUpOnDamage>
        <wakeUpCheckRadius>30</wakeUpCheckRadius>
        <wakeUpSound>MechanoidsWakeUp</wakeUpSound>
      </li>
    </comps>
    <tools>
      <li>
        <label>撞击</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>32</power>
        <cooldownTime>0.5</cooldownTime>
        <linkedBodyPartsGroup>HeadAttackTool</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
      </li>
    </tools>
  </ThingDef>

  <PawnKindDef ParentName="SRAHeavyMechanoidKind">
    <defName>SRA_Mech_WarUnit_M_A</defName>
    <label>星规-「屠猎」火力歼灭单元</label>
    <race>SRA_Mech_WarUnit_M_A</race>
    <combatPower>500</combatPower>
    <maxPerGroup>0</maxPerGroup>
    <allowInMechClusters>false</allowInMechClusters>
    <forceNoDeathNotification>true</forceNoDeathNotification>
    <forceDeathOnDowned>true</forceDeathOnDowned>
    <startingHediffs>
      <li>
        <def>SRA_Barrier_Mech_WarUnit_M_D</def>
      </li>
    </startingHediffs>
    <lifeStages>
      <li>
        <bodyGraphicData>
          <texPath>SRA/Pawn/Mechanoid/SRA_Mech_WarUnit_M_D</texPath>
          <maskPath>SRA/Pawn/Mechanoid/AllegianceOverlays/None</maskPath>
          <shaderType>CutoutWithOverlay</shaderType>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>3.5</drawSize>
        </bodyGraphicData>
      </li>
    </lifeStages>
    <weaponTags>
      <li>SRA_Pulse_Beam_Weapon</li>
    </weaponTags>
  </PawnKindDef>

	<ThingDef ParentName="SRA_WeaponBase">
		<defName>SRA_Pulse_Beam_Weapon</defName>
		<label>星规-命运之枪</label>
		<description>这一型空间撕裂武器发射极为精准的死亡射线，在开火的瞬间破坏沿线的空间结构，即刻摧毁任何被命中的有序结构并制造耀眼的光爆。</description>
		<descriptionHyperlinks>
			<HediffDef>SRA_Railgun_debuff</HediffDef>
		</descriptionHyperlinks>
		<graphicData>
			<texPath>SRA/Weapon/SRA_Weapon_Empty</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>1</drawSize>
		</graphicData>
		<uiIconScale>1.0</uiIconScale>
		<equippedAngleOffset>0</equippedAngleOffset>
    	<smeltable>false</smeltable>
		<statBases>
			<MarketValue>1600</MarketValue>
			<MaxHitPoints>640</MaxHitPoints>
			<Mass>1</Mass>
			<AccuracyTouch>1</AccuracyTouch>
			<AccuracyShort>1</AccuracyShort>
			<AccuracyMedium>1</AccuracyMedium>
			<AccuracyLong>1</AccuracyLong>
			<RangedWeapon_Cooldown>4</RangedWeapon_Cooldown>
			<Flammability>0</Flammability>
		</statBases>
		<tradeability>None</tradeability>
		<relicChance>0</relicChance>
		<weaponTags>
			<li>SRA_Pulse_Beam_Weapon</li>
		</weaponTags>
		<verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <defaultProjectile>SRABullet_Pulse_Beam_Weapon</defaultProjectile>
        <hasStandardCommand>true</hasStandardCommand>
        <warmupTime>0</warmupTime>
        <range>24</range>
        <soundCast>Shot_BeamRepeater</soundCast>
        <soundCastTail>GunTail_Medium</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
        <aimingChargeMote>Mote_BeamRepeater_Charge</aimingChargeMote>
        <aimingChargeMoteOffset>0</aimingChargeMoteOffset>
      </li>
		</verbs>
		<tools>
			<li>
				<label>相位冲击</label>
				<capacities>
					<li>Blunt</li>
				</capacities>
				<power>64</power>
				<cooldownTime>2</cooldownTime>
			</li>
		</tools>
	</ThingDef>
  <ThingDef ParentName="BaseBullet">
    <defName>SRABullet_Pulse_Beam_Weapon</defName>
    <label>SRABullet_Pulse_Beam_Weapon</label>
    <thingClass>Beam</thingClass>
    <graphicData>
      <texPath>Things/Projectile/Bullet_Small</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <damageDef>SRA_Spear_of_SRA_burn</damageDef>
      <damageAmountBase>64</damageAmountBase>
      <beamMoteDef>SRAMote_Pulse_Beam_Weapon</beamMoteDef>
      <beamStartOffset>0</beamStartOffset>
      <armorPenetrationBase>4</armorPenetrationBase>
    </projectile>
  </ThingDef>
  <ThingDef ParentName="MoteBase">
    <defName>SRAMote_Pulse_Beam_Weapon</defName>
    <thingClass>MoteDualAttached</thingClass>
    <altitudeLayer>MoteOverhead</altitudeLayer>
    <mote>
      <fadeInTime>0.1</fadeInTime>
      <fadeOutTime>0.1</fadeOutTime>
      <solidTime>0.1</solidTime>
      <rotateTowardsTarget>True</rotateTowardsTarget>
      <scaleToConnectTargets>True</scaleToConnectTargets>
    </mote>
    <drawOffscreen>true</drawOffscreen>
    <graphicData>
      <texPath>Things/Mote/GraserBeam</texPath>
      <graphicClass>Graphic_MoteWithAgeSecs</graphicClass>
      <shaderType>MoteBeam</shaderType>
      <shaderParameters>
        <_ExtraTexA>/Things/Mote/BeamSecondaryNoise_A</_ExtraTexA>
        <_ExtraTexB>/Things/Mote/BeamSecondaryNoise_B</_ExtraTexB>
        <_ScrollSpeedA>0</_ScrollSpeedA>
        <_ScrollSpeedB>0</_ScrollSpeedB>
        <_Intensity>2</_Intensity>
      </shaderParameters>
    </graphicData>
  </ThingDef>


  <ThingDef ParentName="BaseWeaponTurret">
    <defName>SRATurretGun_Mech_WarUnit_M_A</defName>
    <label>星规-「屠猎」轰炸脉冲炮塔</label>
    <description>一种远距离脉冲束发射器，它以较长的周期一次性发射数道相位能量束，在命中时产生小范围的爆炸并产生破坏性相位能量，这一爆炸不会伤害友方目标。</description>
    <descriptionHyperlinks>
      <HediffDef>SRA_Railgun_debuff</HediffDef>
    </descriptionHyperlinks>
    <graphicData>
      <texPath>SRA/Weapon/SRA_Weapon_Empty</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <statBases>
      <AccuracyLong>0.5</AccuracyLong>
      <DeteriorationRate>0</DeteriorationRate>
      <Mass>48</Mass>
      <Flammability>0</Flammability>
    </statBases>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <defaultProjectile>SRABulle_Mech_WarUnit_M_A</defaultProjectile>
        <hasStandardCommand>true</hasStandardCommand>
        <range>32</range>
        <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
        <burstShotCount>4</burstShotCount>
        <defaultCooldownTime>16</defaultCooldownTime>
        <soundCast>AgonyPulse_Cast</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>5</muzzleFlashScale>
      </li>
    </verbs>
  </ThingDef>
  <ThingDef ParentName="BaseBullet">
    <defName>SRABulle_Mech_WarUnit_M_A</defName>
    <label>星规-「屠猎」轰炸脉冲束</label>
    <graphicData>
      <texPath>Things/Projectile/ChargeLanceShot</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <shaderType>TransparentPostLight</shaderType>
      <drawSize>2.4</drawSize>
    </graphicData>
    <thingClass>SRA.Projectile_SRA_Railgun</thingClass>
    <modExtensions>
      <li Class="SRA.SRA_RailgunProjectileExtension">
        <!-- 穿透设置 -->
        <maxPenetrations>1</maxPenetrations>
        <penetrationDelayTicks>1</penetrationDelayTicks>
        <!-- 爆炸设置 -->
        <explosionRadius>1.5</explosionRadius>
        <explosionDamage>0</explosionDamage><!-- 小于等于0则使用子弹的伤害数值 -->
        <explosionArmorPenetration>0</explosionArmorPenetration><!-- 小于等于0则使用子弹的穿透数值 -->
        <damageDef>Bullet</damageDef>
        <explosionSound>SRABulle_Railgun_Explosion</explosionSound>
        <explosionHediff>SRA_Railgun_debuff</explosionHediff>
        <explosionHediffSeverity>0.05</explosionHediffSeverity>
      </li>
    </modExtensions>
    <projectile>
      <damageDef>Bullet</damageDef>
      <damageAmountBase>32</damageAmountBase>
      <armorPenetrationBase>4</armorPenetrationBase>
      <stoppingPower>8</stoppingPower>
      <speed>240</speed>
      <extraDamages>
        <li>
          <def>EMP</def>
          <amount>8</amount>
        </li>
      </extraDamages>
    </projectile>
  </ThingDef>

  
  <ThingDef Name="SRA_Mech_Tank_M_D" ParentName="SRASuperHeavyMechanoid">
    <defName>SRA_Mech_Tank_M_D</defName> <!-- 修改了defName以避免冲突 -->
    <label>星规-「打击乐」实验型火力平台</label>
    <description>一种概念性的中型作战平台，装备了多个炮塔来提供不同类型的压制性火力。由于缺乏具体的应用场合，这一设计停留在了原型阶段。\n\n这是一种相对较大的作战平台，装备了护盾场发生器和爆炸性光束武器，以及数个炮塔用于大范围轰炸。设计上用于提供战场支点，其武器系统擅长制造大量的范围伤害和削弱对手。</description>
    <statBases>
      <BandwidthCost>8</BandwidthCost>
      <MoveSpeed>2</MoveSpeed>
    </statBases>
    <race>
      <body>Mech_Warqueen</body>
      <baseBodySize>10</baseBodySize>
      <lifeStageAges>
        <li>
          <def>MechanoidFullyFormed</def>
          <minAge>0</minAge>
          <soundWounded>Pawn_Mech_Warqueen_Wounded</soundWounded>
          <soundDeath>Pawn_Mech_Warqueen_Death</soundDeath>
          <soundCall>Pawn_Mech_Warqueen_Call</soundCall>
        </li>
      </lifeStageAges>
      <baseHealthScale>10</baseHealthScale>
      <!-- <thinkTreeConstant>WarUrchinConstant</thinkTreeConstant> -->
    </race>
    <tools>
      <li>
        <label>crush</label>
        <capacities>
          <li>Blunt</li>
        </capacities>
        <power>320</power>
        <cooldownTime>2</cooldownTime>
        <linkedBodyPartsGroup>Torso</linkedBodyPartsGroup>
        <ensureLinkedBodyPartsGroupAlwaysUsable>true</ensureLinkedBodyPartsGroupAlwaysUsable>
      </li>
    </tools>
    <damageMultipliers>
      <li>
        <damageDef>Flame</damageDef>
        <multiplier>0</multiplier>
      </li>
      <li>
        <damageDef>EMP</damageDef>
        <multiplier>0</multiplier>
      </li>
    </damageMultipliers>
    <comps>
      <!--加上这个组件的机械体会直接跳过原版指挥范围判定-->
      <li Class="SRA.CompProperties_GlobalMechCommand" />
      <li Class="CompProperties_CanBeDormant" />
      <li Class="CompProperties_WakeUpDormant">
        <wakeUpOnDamage>true</wakeUpOnDamage>
        <wakeUpCheckRadius>30</wakeUpCheckRadius>
        <wakeUpSound>MechanoidsWakeUp</wakeUpSound>
      </li>
      <li Class="SRA.CompProperties_MultiTurretGun">
		    <ID>0</ID>
        <turretDef>SRATurretGun_SRA_Mech_Tank_M_D_Minipulser</turretDef>
        <!-- <angleOffset>-90</angleOffset> -->
        <renderNodeProperties>
          <li>
            <nodeClass>PawnRenderNode_TurretGun</nodeClass>
            <workerClass>PawnRenderNodeWorker_TurretGun</workerClass>
            <parentTagDef>Body</parentTagDef>
            <overrideMeshSize>(1, 1)</overrideMeshSize>
            <baseLayer>20</baseLayer>
            <pawnType>Any</pawnType>
            <drawData>
              <dataNorth>
                <rotationOffset>-90</rotationOffset>
                <offset>(-1, 0, -1.45)</offset>
                <flip>true</flip>
                <layer>-5</layer>
              </dataNorth>
              <dataEast>
                <rotationOffset>90</rotationOffset>
                <layer>-5</layer>
                <offset>(2.15, 0, -1)</offset>
              </dataEast>
              <dataSouth>
                <rotationOffset>-90</rotationOffset>
                <offset>(1, 0, -1.45)</offset>
              </dataSouth>
              <dataWest>
                <rotationOffset>90</rotationOffset>
                <offset>(-2.15, 0, -1)</offset>
              </dataWest>
            </drawData>
          </li>
        </renderNodeProperties>
      </li>
      <li Class="SRA.CompProperties_MultiTurretGun">
		    <ID>1</ID>
        <turretDef>SRATurretGun_SRA_Mech_Tank_M_D_Minipulser</turretDef>
        <!-- <angleOffset>-90</angleOffset> -->
        <renderNodeProperties>
          <li>
            <nodeClass>PawnRenderNode_TurretGun</nodeClass>
            <workerClass>PawnRenderNodeWorker_TurretGun</workerClass>
            <parentTagDef>Body</parentTagDef>
            <overrideMeshSize>(1, 1)</overrideMeshSize>
            <baseLayer>20</baseLayer>
            <pawnType>Any</pawnType>
            <drawData>
              <dataNorth>
                <rotationOffset>-90</rotationOffset>
                <offset>(1, 0, -1.45)</offset>
                <layer>-5</layer>
              </dataNorth>
              <dataEast>
                <rotationOffset>-90</rotationOffset>
                <offset>(2.15, 0, -1)</offset>
              </dataEast>
              <dataSouth>
                <rotationOffset>-90</rotationOffset>
                <offset>(-1, 0, -1.45)</offset>
              </dataSouth>
              <dataWest>
                <rotationOffset>90</rotationOffset>
                <offset>(-2.15, 0, -1)</offset>
                <layer>-5</layer>
              </dataWest>
            </drawData>
          </li>
        </renderNodeProperties>
      </li>
      <li Class="SRA.CompProperties_MultiTurretGun">
		    <ID>2</ID>
        <turretDef>SRATurretGun_SRA_Mech_Tank_M_D_Railgun</turretDef>
        <!-- <angleOffset>-90</angleOffset> -->
        <renderNodeProperties>
          <li>
            <nodeClass>PawnRenderNode_TurretGun</nodeClass>
            <workerClass>PawnRenderNodeWorker_TurretGun</workerClass>
            <parentTagDef>Body</parentTagDef>
            <overrideMeshSize>(1, 1)</overrideMeshSize>
            <baseLayer>20</baseLayer>
            <pawnType>Any</pawnType>
            <drawData>
              <dataNorth>
                <rotationOffset>-90</rotationOffset>
                <offset>(-1.3, 0, -0.45)</offset>
                <flip>true</flip>
                <layer>-5</layer>
              </dataNorth>
              <dataEast>
                <rotationOffset>90</rotationOffset>
                <layer>-5</layer>
                <offset>(1.4, 0, -0.35)</offset>
              </dataEast>
              <dataSouth>
                <rotationOffset>-90</rotationOffset>
                <offset>(1.3, 0, -0.45)</offset>
              </dataSouth>
              <dataWest>
                <rotationOffset>90</rotationOffset>
                <offset>(-1.4, 0, -0.35)</offset>
              </dataWest>
            </drawData>
          </li>
        </renderNodeProperties>
      </li>
      <li Class="SRA.CompProperties_MultiTurretGun">
		    <ID>3</ID>
        <turretDef>SRATurretGun_SRA_Mech_Tank_M_D_Railgun</turretDef>
        <!-- <angleOffset>-90</angleOffset> -->
        <renderNodeProperties>
          <li>
            <nodeClass>PawnRenderNode_TurretGun</nodeClass>
            <workerClass>PawnRenderNodeWorker_TurretGun</workerClass>
            <parentTagDef>Body</parentTagDef>
            <overrideMeshSize>(1, 1)</overrideMeshSize>
            <baseLayer>20</baseLayer>
            <pawnType>Any</pawnType>
            <drawData>
              <dataNorth>
                <rotationOffset>-90</rotationOffset>
                <offset>(1.3, 0, -0.45)</offset>
                <flip>true</flip>
                <layer>-5</layer>
              </dataNorth>
              <dataEast>
                <rotationOffset>-90</rotationOffset>
                <offset>(1.4, 0, -0.35)</offset>
              </dataEast>
              <dataSouth>
                <rotationOffset>-90</rotationOffset>
                <offset>(-1.3, 0, -0.45)</offset>
              </dataSouth>
              <dataWest>
                <rotationOffset>90</rotationOffset>
                <layer>-5</layer>
                <offset>(-1.4, 0, -0.35)</offset>
              </dataWest>
            </drawData>
          </li>
        </renderNodeProperties>
      </li>
      <li Class="SRA.CompProperties_MultiTurretGun">
		    <ID>4</ID>
        <turretDef>SRATurretGun_SRA_Mech_Tank_M_D</turretDef>
        <!-- <angleOffset>-90</angleOffset> -->
        <renderNodeProperties>
          <li>
            <nodeClass>PawnRenderNode_TurretGun</nodeClass>
            <workerClass>PawnRenderNodeWorker_TurretGun</workerClass>
            <parentTagDef>Body</parentTagDef>
            <overrideMeshSize>(1, 1)</overrideMeshSize>
            <baseLayer>20</baseLayer>
            <pawnType>Any</pawnType>
            <drawData>
              <dataNorth>
                <rotationOffset>-90</rotationOffset>
                <offset>(1.25, 0, 0.45)</offset>
                <flip>true</flip>
                <layer>-5</layer>
              </dataNorth>
              <dataEast>
                <rotationOffset>90</rotationOffset>
                <layer>-5</layer>
                <offset>(0.6, 0, 0.15)</offset>
              </dataEast>
              <dataSouth>
                <rotationOffset>-90</rotationOffset>
                <offset>(-1.25, 0, 0.65)</offset>
              </dataSouth>
              <dataWest>
                <rotationOffset>90</rotationOffset>
                <offset>(-0.6, 0, 0.15)</offset>
              </dataWest>
            </drawData>
          </li>
        </renderNodeProperties>
      </li>
      <li Class="SRA.CompProperties_MultiTurretGun">
		    <ID>5</ID>
        <turretDef>SRATurretGun_SRA_Mech_Tank_M_D</turretDef>
        <!-- <angleOffset>-90</angleOffset> -->
        <renderNodeProperties>
          <li>
            <nodeClass>PawnRenderNode_TurretGun</nodeClass>
            <workerClass>PawnRenderNodeWorker_TurretGun</workerClass>
            <parentTagDef>Body</parentTagDef>
            <overrideMeshSize>(1, 1)</overrideMeshSize>
            <baseLayer>20</baseLayer>
            <pawnType>Any</pawnType>
            <drawData>
              <dataNorth>
                <rotationOffset>-90</rotationOffset>
                <offset>(-1.25, 0, 0.45)</offset>
                <flip>true</flip>
                <layer>-5</layer>
              </dataNorth>
              <dataEast>
                <rotationOffset>-90</rotationOffset>
                <offset>(0.6, 0, 0.15)</offset>
              </dataEast>
              <dataSouth>
                <rotationOffset>-90</rotationOffset>
                <offset>(1.25, 0, 0.65)</offset>
              </dataSouth>
              <dataWest>
                <rotationOffset>90</rotationOffset>
                <layer>-5</layer>
                <offset>(-0.6, 0, 0.15)</offset>
              </dataWest>
            </drawData>
          </li>
        </renderNodeProperties>
      </li>
      <li Class="CompProperties_ProjectileInterceptor">
        <radius>6</radius>
        <interceptGroundProjectiles>true</interceptGroundProjectiles>
        <color>(0.4, 0.4, 0.4)</color>
        <reactivateEffect>BulletShieldGenerator_Reactivate</reactivateEffect>
        <activeSound>BulletShield_Ambience</activeSound>
        <hitPoints>6400</hitPoints>
        <hitPointsRestoreInstantlyAfterCharge>true</hitPointsRestoreInstantlyAfterCharge>
        <chargeDurationTicks>1800</chargeDurationTicks><!-- 30s -->
        <rechargeHitPointsIntervalTicks>90</rechargeHitPointsIntervalTicks>
        <minIdleAlpha>0.2</minIdleAlpha>
        <drawWithNoSelection>True</drawWithNoSelection>
        <disarmedByEmpForTicks>900</disarmedByEmpForTicks>
        <gizmoTipKey>ProjectileInterceptorTip</gizmoTipKey>
      </li>
    </comps>
  </ThingDef>
  <PawnKindDef Name="SRA_Mech_Tank_M_D_PawnKind" ParentName="SRAHeavyMechanoidKind">
    <defName>SRA_Mech_Tank_M_D</defName> <!-- 修改了defName以避免冲突 -->
    <label>星规-「打击乐」实验型火力平台</label>
    <race>SRA_Mech_Tank_M_D</race>
    <combatPower>1000</combatPower>
    <maxPerGroup>0</maxPerGroup>
    <allowInMechClusters>false</allowInMechClusters>
    <forceNoDeathNotification>true</forceNoDeathNotification>
    <forceDeathOnDowned>true</forceDeathOnDowned>
    <startingHediffs>
      <li>
        <def>SRA_Barrier_Mech_Tank_M_D</def>
      </li>
    </startingHediffs>
    <lifeStages>
      <li>
        <bodyGraphicData>
          <texPath>SRA/Pawn/Mechanoid/SRA_Mech_Tank_M_D</texPath>
          <maskPath>SRA/Pawn/Mechanoid/AllegianceOverlays/None</maskPath>
          <shaderType>CutoutWithOverlay</shaderType>
          <graphicClass>Graphic_Multi</graphicClass>
          <drawSize>6</drawSize>
          <shadowData>
            <volume>(1.4, 1.8, 1.4)</volume>
          </shadowData>
        </bodyGraphicData>
      </li>
    </lifeStages>
    <weaponMoney>99999~99999</weaponMoney>

    <controlGroupPortraitZoom>0.7</controlGroupPortraitZoom>  
    <weaponTags>
      <li>SRA_Mech_Tank_M_D_Main_Weapon</li>
    </weaponTags>

    <abilities>
    </abilities>
  </PawnKindDef>

	<ThingDef ParentName="SRA_WeaponBase">
		<defName>SRA_Mech_Tank_M_D_Main_Weapon</defName>
		<label>星规-「三角铁」冲击能量束系统</label>
		<description>一种多用途冲击性能量束武器，它在命中后会制造额外的爆炸效果。</description>
		<descriptionHyperlinks>
			<HediffDef>SRA_Railgun_debuff</HediffDef>
		</descriptionHyperlinks>
		<graphicData>
			<texPath>SRA/Weapon/SRA_Weapon_Empty</texPath>
			<graphicClass>Graphic_Single</graphicClass>
			<drawSize>1</drawSize>
		</graphicData>
		<uiIconScale>1.0</uiIconScale>
		<equippedAngleOffset>0</equippedAngleOffset>
    	<smeltable>false</smeltable>
		<statBases>
			<MarketValue>1600</MarketValue>
			<MaxHitPoints>640</MaxHitPoints>
			<Mass>1</Mass>
			<AccuracyTouch>1</AccuracyTouch>
			<AccuracyShort>1</AccuracyShort>
			<AccuracyMedium>1</AccuracyMedium>
			<AccuracyLong>1</AccuracyLong>
			<RangedWeapon_Cooldown>2</RangedWeapon_Cooldown>
			<Flammability>0</Flammability>
		</statBases>
		<tradeability>None</tradeability>
		<relicChance>0</relicChance>
		<weaponTags>
			<li>SRA_Mech_Tank_M_D_Main_Weapon</li>
		</weaponTags>
		<verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <defaultProjectile>SRABullet_Mech_Tank_M_D_Main_Weapon</defaultProjectile>
        <hasStandardCommand>true</hasStandardCommand>
        <warmupTime>0</warmupTime>
        <range>24</range>
        <soundCast>Shot_BeamRepeater</soundCast>
        <soundCastTail>GunTail_Medium</soundCastTail>
        <muzzleFlashScale>9</muzzleFlashScale>
        <aimingChargeMote>Mote_BeamRepeater_Charge</aimingChargeMote>
        <aimingChargeMoteOffset>0</aimingChargeMoteOffset>
      </li>
		</verbs>
		<tools>
			<li>
				<label>相位冲击</label>
				<capacities>
					<li>Blunt</li>
				</capacities>
				<power>64</power>
				<cooldownTime>2</cooldownTime>
			</li>
		</tools>
	</ThingDef>
  <ThingDef ParentName="BaseBullet">
    <defName>SRABullet_Mech_Tank_M_D_Main_Weapon</defName>
    <label>SRABullet_Mech_Tank_M_D_Main_Weapon</label>
    <thingClass>SRA.Projectile_MultiExplosive_Beam</thingClass>
    <graphicData>
      <texPath>Things/Projectile/Bullet_Small</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <projectile>
      <damageDef>SRA_Spear_of_SRA_burn</damageDef>
      <damageAmountBase>64</damageAmountBase>
      <beamMoteDef>SRAMote_Pulse_Beam_Weapon</beamMoteDef>
      <beamStartOffset>0</beamStartOffset>
      <armorPenetrationBase>4</armorPenetrationBase>
    </projectile>
    <modExtensions>
      <li Class="SRA.MultiExplosive_BeamExtension">
        <MultiExplosive_Beams>
          <li>
            <radius>1</radius>
            <damageDef>SRA_Spear_of_SRA_burn</damageDef>
            <damageAmount>32</damageAmount>
            <armorPenetration>8</armorPenetration>
            <explosionSound>Explosion_EMP</explosionSound>
            <explosionDamageFalloff>true</explosionDamageFalloff>
            <onlyAntiHostile>true</onlyAntiHostile>
          </li>
          <li>
            <radius>2</radius>
            <damageDef>Bomb</damageDef>
            <damageAmount>64</damageAmount>
            <armorPenetration>4</armorPenetration>
            <explosionSound>Explosion_Bomb</explosionSound>
            <explosionDamageFalloff>true</explosionDamageFalloff><!-- 默认true -->
            <explosionEffect>GiantExplosion</explosionEffect>
            <explosionEffectLifetimeTicks>180</explosionEffectLifetimeTicks> 
            <onlyAntiHostile>true</onlyAntiHostile> <!-- 智能弹药：这个爆炸只伤害敌对目标，默认false -->
            <!-- 现阶段就支持这么多参数 -->
          </li>
        </MultiExplosive_Beams>
      </li>
    </modExtensions>
  </ThingDef>
  <ThingDef ParentName="BaseWeaponTurret">
    <defName>SRATurretGun_SRA_Mech_Tank_M_D_Minipulser</defName>
    <label>星规-「军鼓」近防炮塔</label>
    <description>一种由风雪骤灭改装而来的近防炮塔。</description>
    <descriptionHyperlinks>
      <HediffDef>SRA_Retardant</HediffDef>
    </descriptionHyperlinks>
    <graphicData>
      <texPath>SRA/Weapon/SRA_Weapon_Empty</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <statBases>
			<AccuracyTouch>1</AccuracyTouch>
			<AccuracyShort>0.4</AccuracyShort>
			<AccuracyMedium>0.35</AccuracyMedium>
			<AccuracyLong>0.3</AccuracyLong>
      <DeteriorationRate>0</DeteriorationRate>
      <Mass>48</Mass>
      <Flammability>0</Flammability>
    </statBases>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <defaultProjectile>SRABullet_Minipulser</defaultProjectile>
        <hasStandardCommand>true</hasStandardCommand>
        <range>16</range>
				<ticksBetweenBurstShots>2</ticksBetweenBurstShots>
				<burstShotCount>16</burstShotCount>
        <defaultCooldownTime>2</defaultCooldownTime>
				<soundCast>SRA_Minipulser</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>5</muzzleFlashScale>
      </li>
    </verbs>
  </ThingDef>
  <ThingDef ParentName="BaseWeaponTurret">
    <defName>SRATurretGun_SRA_Mech_Tank_M_D_Railgun</defName>
    <label>星规-「大鼓」歼灭炮塔</label>
    <description>一种由呼啸雷霆改装而来的歼灭炮塔。</description>
    <descriptionHyperlinks>
      <HediffDef>SRA_Railgun_debuff</HediffDef>
    </descriptionHyperlinks>
    <graphicData>
      <texPath>SRA/Weapon/SRA_Weapon_Empty</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <statBases>
			<AccuracyLong>1</AccuracyLong>
      <DeteriorationRate>0</DeteriorationRate>
      <Mass>48</Mass>
      <Flammability>0</Flammability>
    </statBases>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <defaultProjectile>SRABulle_Railgun</defaultProjectile>
        <hasStandardCommand>true</hasStandardCommand>
        <range>32</range>
				<ticksBetweenBurstShots>1</ticksBetweenBurstShots>
				<burstShotCount>1</burstShotCount>
        <defaultCooldownTime>4</defaultCooldownTime>
				<soundCast>SRA_SML_Mass_Drivers</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>5</muzzleFlashScale>
      </li>
    </verbs>
  </ThingDef>
  <ThingDef ParentName="BaseWeaponTurret">
    <defName>SRATurretGun_SRA_Mech_Tank_M_D</defName>
    <label>星规-「定音鼓」多重轰炸炮塔</label>
    <description>一种远距离能量团发射器，它发射相位能量团，在命中时产生破坏性的多重爆炸。</description>
    <descriptionHyperlinks>
      <HediffDef>SRA_Railgun_debuff</HediffDef>
    </descriptionHyperlinks>
    <graphicData>
      <texPath>SRA/Weapon/SRA_Weapon_Empty</texPath>
      <graphicClass>Graphic_Single</graphicClass>
    </graphicData>
    <statBases>
      <AccuracyLong>0.5</AccuracyLong>
      <DeteriorationRate>0</DeteriorationRate>
      <Mass>48</Mass>
      <Flammability>0</Flammability>
    </statBases>
    <verbs>
      <li>
        <verbClass>Verb_Shoot</verbClass>
        <defaultProjectile>SRABulle_SRATurretGun_SRA_Mech_Tank_M_D</defaultProjectile>
        <hasStandardCommand>true</hasStandardCommand>
        <range>32</range>
        <ticksBetweenBurstShots>1</ticksBetweenBurstShots>
        <burstShotCount>1</burstShotCount>
        <defaultCooldownTime>8</defaultCooldownTime>
        <soundCast>AgonyPulse_Cast</soundCast>
        <soundCastTail>GunTail_Heavy</soundCastTail>
        <muzzleFlashScale>5</muzzleFlashScale>
      </li>
    </verbs>
  </ThingDef>
  <ThingDef ParentName="BaseBullet">
    <defName>SRABulle_SRATurretGun_SRA_Mech_Tank_M_D</defName>
    <label>SRABulle_SRATurretGun_SRA_Mech_Tank_M_D</label>
    <thingClass>SRA.Projectile_MultiExplosive</thingClass>
    <graphicData>
      <texPath>SRA/Projectile/SRA_Bullet_Plasma</texPath>
      <graphicClass>Graphic_Single</graphicClass>
      <shaderType>TransparentPostLight</shaderType>
	    <drawSize>1.5</drawSize>
    </graphicData>
    <projectile>
			<damageDef>Bomb</damageDef>
			<damageAmountBase>64</damageAmountBase>
			<armorPenetrationBase>4</armorPenetrationBase>
			<stoppingPower>8</stoppingPower>
			<speed>80</speed>
      <flyOverhead>true</flyOverhead>
      <soundHitThickRoof>Artillery_HitThickRoof</soundHitThickRoof>
      <soundImpactAnticipate>MortarRound_PreImpact</soundImpactAnticipate>
      <soundAmbient>MortarRound_Ambient</soundAmbient>
    </projectile>
    <modExtensions>
      <li Class="SRA.MultiExplosiveExtension">
        <multiexplosions>
          <li>
            <radius>4</radius>
            <damageDef>EMP</damageDef>
            <damageAmount>64</damageAmount>
            <armorPenetration>4</armorPenetration>
            <explosionSound>Explosion_EMP</explosionSound>
            <explosionDamageFalloff>true</explosionDamageFalloff>
            <onlyAntiHostile>true</onlyAntiHostile>
          </li>
          <li>
            <radius>1</radius>
            <damageDef>SRA_Spear_of_SRA_burn</damageDef>
            <damageAmount>64</damageAmount>
            <armorPenetration>8</armorPenetration>
            <explosionSound>Explosion_EMP</explosionSound>
            <explosionDamageFalloff>true</explosionDamageFalloff>
            <onlyAntiHostile>true</onlyAntiHostile>
          </li>
          <li>
            <radius>4</radius>
            <damageDef>Bomb</damageDef>
            <damageAmount>128</damageAmount>
            <armorPenetration>4</armorPenetration>
            <explosionSound>Explosion_Bomb</explosionSound>
            <explosionDamageFalloff>true</explosionDamageFalloff><!-- 默认true -->
            <explosionEffect>GiantExplosion</explosionEffect>
            <explosionEffectLifetimeTicks>180</explosionEffectLifetimeTicks> 
            <onlyAntiHostile>true</onlyAntiHostile> <!-- 智能弹药：这个爆炸只伤害敌对目标，默认false -->
            <!-- 现阶段就支持这么多参数 -->
          </li>
        </multiexplosions>
        <bulletLaunches>
          <li>
            <projectileDef>SRABullet_L_Particle_Launcher_EMP</projectileDef>
            <bulletCount>1</bulletCount>
            <angleRange>1</angleRange>
            <distanceRange>
              <min>4</min>
              <max>4</max>
            </distanceRange>
          </li>
        </bulletLaunches>
      </li>
    </modExtensions>
  </ThingDef>
</Defs>